{
    "desktop": {
        "background": "",
        "title": "YesterPlayOS",
        "theme_color": "#000080"
    },
    "shortcuts": [
        {
            "name": "My Computer",
            "icon": "icons/my-computer-0.png",
            "content": "<div class=\"settings-panel\"><div class=\"settings-tabs\"><div class=\"tab active\" data-tab=\"welcome\">Welcome</div><div class=\"tab\" data-tab=\"system\">System</div></div><div class=\"settings-content\"><div class=\"settings-content-pane active\" id=\"welcome-tab\"><div style=\"display: flex; align-items: center; margin-bottom: 20px;\"><img src=\"icons/yp-head.png\" style=\"width: 64px; height: 64px; margin-right: 15px;\"><h1 style=\"margin: 0; font-size: 1.5em;\">Welcome to <strong>YesterPlay</strong><span style=\"margin-left: 2px; color: white;\">OS</span></h1></div><div class=\"hint-box\"><img src=\"icons/tip-of-the-day.png\"><div><p style=\"margin: 0;\"><strong>Did you know...</strong></p><p style=\"margin: 5px 0 0 0;\" id=\"tip-text\"></p></div></div><p style=\"margin-top:20px; color:#404040;\">YesterPlayOS is a tribute to the golden era of personal computing. Explore the desktop, check your stocks, or listen to some tunes with Webamp.</p></div><div class=\"settings-content-pane\" id=\"system-tab\"><h3>System Properties</h3><div style=\"background:white; border:1px inset; padding:10px; font-family:monospace; font-size:12px;\"><p><strong>OS:</strong> YesterPlayOS v1.0.0</p><p><strong>Platform:</strong> <span id=\"sys-plat\"></span></p><p><strong>Browser:</strong> <span id=\"sys-browser\"></span></p><p><strong>Language:</strong> <span id=\"sys-lang\"></span></p><p><strong>Resolution:</strong> <span id=\"sys-res\"></span></p><p><strong>Connection:</strong> <span id=\"sys-online\"></span></p></div></div></div></div><script>(function(){ const win = document.currentScript.closest('.window'); const tabs = win.querySelectorAll('.tab'); const panes = win.querySelectorAll('.settings-content-pane'); const tips = [ \"You can drag and resize most windows just like in the real Windows 95!\", \"You can switch between open windows using the buttons on the taskbar.\", \"The Start menu is your gateway to everything installed on YesterPlayOS.\", \"You can move windows by dragging their blue title bars.\", \"Right-click functionality is coming soon!\" ]; const tipText = win.querySelector('#tip-text'); tipText.textContent = tips[Math.floor(Math.random() * tips.length)]; tabs.forEach(tab => { tab.addEventListener('click', () => { tabs.forEach(t => t.classList.remove('active')); tab.classList.add('active'); const target = tab.getAttribute('data-tab'); panes.forEach(pane => { pane.classList.remove('active'); if (pane.id === target + '-tab') { pane.classList.add('active'); } }); }); }); win.querySelector('#sys-plat').textContent = navigator.platform; win.querySelector('#sys-browser').textContent = navigator.userAgent.split(' ').pop(); win.querySelector('#sys-lang').textContent = navigator.language; win.querySelector('#sys-res').textContent = window.screen.width + 'x' + window.screen.height; win.querySelector('#sys-online').textContent = navigator.onLine ? 'Online' : 'Offline'; })();</script>",
            "autostart": true
        },
        {
            "name": "System Settings",
            "icon": "icons/settings-0.png",
            "content": "<div class=\"settings-panel\"><div class=\"settings-tabs\"><div class=\"tab active\" data-tab=\"desktop\">Desktop</div><div class=\"tab\" data-tab=\"advanced\">Advanced</div></div><div class=\"settings-content\"><div class=\"settings-content-pane active\" id=\"desktop-tab\"><div class=\"settings-group\"><h3>Desktop Background</h3><input type=\"text\" id=\"background-url\" class=\"win95-input\" placeholder=\"Enter image URL\"><br><br><button id=\"save-background\" class=\"win95-button\">Save</button></div><div class=\"settings-group\"><h3>Window Title</h3><input type=\"text\" id=\"window-title\" class=\"win95-input\" placeholder=\"Enter window title\"><br><br><button id=\"save-title\" class=\"win95-button\">Save</button></div><div class=\"settings-group\"><h3>Appearance</h3><button id=\"change-theme-color\" class=\"win95-button\">Change Theme Color</button></div></div><div class=\"settings-content-pane\" id=\"advanced-tab\"><div class=\"settings-group\"><h3>Advanced Settings</h3><button id=\"reset-settings\" class=\"win95-button\">Reset Settings and Storage</button></div></div></div></div><script>(function() {const win = document.currentScript.closest('.window');const tabs = win.querySelectorAll('.tab');const panes = win.querySelectorAll('.settings-content-pane');const desktopEl = document.getElementById('desktop');const backgroundInput = win.querySelector('#background-url');const saveButton = win.querySelector('#save-background');const titleInput = win.querySelector('#window-title');const saveTitleButton = win.querySelector('#save-title');const currentBackground = sessionStorage.getItem('yesterplay_background') || '';backgroundInput.value = currentBackground.replace('url(', '').replace(')', '').replace(/\\\"/g, '');const currentTitle = sessionStorage.getItem('yesterplay_title') || document.title;titleInput.value = currentTitle;tabs.forEach(tab => {tab.addEventListener('click', () => {tabs.forEach(t => t.classList.remove('active'));tab.classList.add('active');const target = tab.getAttribute('data-tab');panes.forEach(pane => {pane.classList.remove('active');if (pane.id === target + '-tab') {pane.classList.add('active');}});});});saveButton.addEventListener('click', () => {const newBackground = backgroundInput.value;if (newBackground) {sessionStorage.setItem('yesterplay_background', newBackground);desktopEl.style.backgroundImage = `url(${newBackground})`;showModal('System Settings', 'Desktop background updated!');} else {showModal('System Settings', 'Please enter a valid URL for the background.');}});saveTitleButton.addEventListener('click', () => {const newTitle = titleInput.value;if (newTitle) {sessionStorage.setItem('yesterplay_title', newTitle);document.title = newTitle;showModal('System Settings', 'Window title updated!');}});win.querySelector('#change-theme-color').addEventListener('click', () => {showColorPicker('Select Theme Color', (color) => {document.documentElement.style.setProperty('--theme-color', color);sessionStorage.setItem('yesterplay_theme_color', color);showModal('System Settings', 'Theme color updated!');});});win.querySelector('#reset-settings').addEventListener('click', () => {showModal('System Settings', 'This will clear all your settings and data. Are you sure?', 'confirm', () => {sessionStorage.clear();localStorage.clear();location.reload();});});})();</script>",
            "autostart": false
        },
        {
            "name": "About",
            "icon": "icons/about.png",
            "content": "<div class=\"about-content\" style=\"padding: 10px; display: flex; flex-direction: column; align-items: center;\"><img src=\"icons/yp-computer.png\" style=\"width: 128px; height: 128px; margin-bottom: 15px;\"><div class=\"hint-box\" style=\"width: 100%; box-sizing: border-box;\"><img src=\"icons/about.png\"><div><p><a href=\"https://ebfe.es/\" target=\"_blank\" style=\"color: #000080; font-weight: bold;\">Alberto</a> is vibe coding <code>YesterPlayOS</code>.</p><p style=\"margin: 5px 0 0 0;\"><a href=\"https://github.com/a0rtega/YesterPlayOS\" target=\"_blank\" style=\"color: #000080;\">View Source on GitHub</a></p></div></div><p style=\"margin-top: 20px; text-align: center;\">A Windows 95-inspired web interface builder. Minimalistic, fast, and nostalgic.</p></div>",
            "autostart": false
        },
        {
            "name": "Stocks",
            "icon": "icons/stocks.png",
            "content": "<style>.stocks-table { width: 100%; border-collapse: collapse; }.stocks-table th { color: #000; background-color: #0f0; padding: 2px 5px; text-align: left; text-transform: uppercase; font-size: 0.9em; }.stocks-table td { padding: 4px 5px; border-bottom: 1px solid #040; }.stock-up { color: #0f0; }.stock-down { color: #f00; }</style><div class=\"terminal-container\"><div class=\"terminal-header\">YESTERTRADE TERMINAL - MARKET DATA</div><table class=\"stocks-table\"><thead><tr><th>Company</th><th>Sym</th><th>Price</th><th>Chg</th></tr></thead><tbody id=\"stocks-tbody\"></tbody></table></div><script>(function() { const currentScript = document.currentScript; const container = currentScript.previousElementSibling; const stocksTbody = container.querySelector('#stocks-tbody'); let stocks = [ { name: 'Apple Computer', symbol: 'AAPL', price: 12.50 }, { name: 'Microsoft Corp', symbol: 'MSFT', price: 85.25 }, { name: 'Intel Corp', symbol: 'INTC', price: 45.10 }, { name: 'IBM Common', symbol: 'IBM', price: 92.00 }, { name: 'AOL Inc', symbol: 'AOL', price: 110.40 }, { name: 'Yahoo! Inc', symbol: 'YHOO', price: 68.15 }, { name: 'Netscape', symbol: 'NSCP', price: 55.00 }, { name: 'Oracle Corp', symbol: 'ORCL', price: 34.20 }, { name: 'Sun Micro', symbol: 'SUNW', price: 28.75 }, { name: 'Enron Corp', symbol: 'ENE', price: 72.10 } ]; function renderStocks() { if (!stocksTbody) return; stocksTbody.innerHTML = ''; stocks.forEach(stock => { const row = stocksTbody.insertRow(); row.insertCell().textContent = stock.name; row.insertCell().textContent = stock.symbol; row.insertCell().textContent = stock.price.toFixed(2); const changeCell = row.insertCell(); changeCell.textContent = (Math.random() > 0.5 ? '+' : '-') + (Math.random() * 2).toFixed(2); changeCell.className = changeCell.textContent.startsWith('+') ? 'stock-up' : 'stock-down'; }); } renderStocks(); setInterval(renderStocks, 5000); })();</script>",
            "autostart": false
        },
        {
            "name": "Notepad",
            "icon": "icons/notepad-1.png",
            "content": "<div class=\"notepad-container\" style=\"display:flex; flex-direction:column; height:100%;\"><div class=\"win95-menu\"><div class=\"win95-menu-item\" id=\"notepad-file-menu\">File<div id=\"notepad-file-dropdown\" class=\"win95-dropdown\"><div class=\"win95-dropdown-item\" id=\"notepad-new\">New</div><div class=\"win95-dropdown-item\" id=\"notepad-open\">Open...</div><div class=\"win95-dropdown-item\" id=\"notepad-save\">Save</div></div></div></div><textarea id=\"notepad-textarea\" style=\"flex-grow:1; border:none; outline:none; padding:5px; font-family: 'Courier New', Courier, monospace; resize:none;\" spellcheck=\"false\"></textarea><input type=\"file\" id=\"notepad-file-input\" style=\"display:none;\" accept=\".txt\"></div><script>(function(){ const win = document.currentScript.closest('.window'); const textarea = win.querySelector('#notepad-textarea'); const fileMenu = win.querySelector('#notepad-file-menu'); const fileDropdown = win.querySelector('#notepad-file-dropdown'); const newBtn = win.querySelector('#notepad-new'); const openBtn = win.querySelector('#notepad-open'); const saveBtn = win.querySelector('#notepad-save'); const fileInput = win.querySelector('#notepad-file-input'); textarea.value = localStorage.getItem('yesterplay_notepad_content') || ''; textarea.addEventListener('input', () => { localStorage.setItem('yesterplay_notepad_content', textarea.value); window.dispatchEvent(new CustomEvent('notepad-sync', { detail: textarea.value })); }); const sync = (e) => { if (textarea.value !== e.detail) textarea.value = e.detail; }; window.addEventListener('notepad-sync', sync); fileMenu.addEventListener('click', (e) => { e.stopPropagation(); const isHidden = getComputedStyle(fileDropdown).display === 'none'; fileDropdown.style.display = isHidden ? 'block' : 'none'; }); const closeMenu = () => { fileDropdown.style.display = 'none'; }; document.addEventListener('click', closeMenu); const observer = new MutationObserver(() => { if (!document.body.contains(win)) { document.removeEventListener('click', closeMenu); window.removeEventListener('notepad-sync', sync); observer.disconnect(); } }); observer.observe(document.body, { childList: true, subtree: true }); newBtn.addEventListener('click', () => { showModal('Notepad', 'Are you sure you want to discard changes?', 'confirm', () => { textarea.value = ''; localStorage.setItem('yesterplay_notepad_content', ''); window.dispatchEvent(new CustomEvent('notepad-sync', { detail: '' })); }); }); openBtn.addEventListener('click', () => { fileInput.click(); }); fileInput.addEventListener('change', (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (e) => { textarea.value = e.target.result; localStorage.setItem('yesterplay_notepad_content', textarea.value); window.dispatchEvent(new CustomEvent('notepad-sync', { detail: textarea.value })); }; reader.readAsText(file); }); saveBtn.addEventListener('click', () => { const blob = new Blob([textarea.value], { type: 'text/plain' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'notepad.txt'; a.click(); URL.revokeObjectURL(url); }); })();</script>",
            "autostart": false
        },
        {
            "name": "Webamp",
            "icon": "icons/webamp.png",
            "js_only": true,
            "content": "import Webamp from 'https://unpkg.com/webamp@^2/butterchurn'; if (!document.getElementById('webamp-container')) { const container = document.createElement('div'); container.id = 'webamp-container'; document.getElementById('desktop').appendChild(container); const webamp = new Webamp({ initialTracks: [{ url: './music/itswatr-watr-fluid-10149.mp3' }]}); webamp.onClose(() => { container.remove(); }); webamp.renderWhenReady(container); }"
        },
        {
            "name": "Video Guide",
            "icon": "icons/youtube-0.png",
            "content": "<iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/vLlWrt-zmTo?si=Wq7Szv9tTHhxYYey&amp;controls=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>",
            "autostart": false
        },
        {
            "name": "Spotify",
            "icon": "icons/spotify-0.png",
            "content": "<iframe data-testid=\"embed-iframe\" style=\"border-radius:12px\" src=\"https://open.spotify.com/embed/playlist/37i9dQZF1DWU4EQPjP9ZpS?utm_source=generator&theme=0\" width=\"100%\" height=\"152\" frameBorder=\"0\" allowfullscreen=\"\" allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\" loading=\"lazy\"></iframe>",
            "autostart": false
        },
        {
            "name": "Image Viewer",
            "icon": "icons/image-viewer-0.png",
            "content": "<img src=\"./images/w95_video_guide.jpg\" style=\"width: 100%; height: 100%; object-fit: contain;\">",
            "enabled": false,
            "autostart": false
        },
        {
            "name": "Minesweeper",
            "icon": "icons/minesweeper.png",
            "content": "<div class='ms-app-container' style='height:100%;'></div><script>(function(){ var scripts = document.getElementsByTagName('script'); var me = scripts[scripts.length - 1]; var root = me.parentElement.querySelector('.ms-app-container'); function launch() { if (window.initMinesweeper) window.initMinesweeper(root); } if (window.initMinesweeper) { launch(); } else { var s = document.createElement('script'); s.src = 'minesweeper.js'; s.onload = launch; document.head.appendChild(s); } })();</script>",
            "enabled": false,
            "autostart": false
        }
    ]
}
